(function(e,s){typeof exports=="object"&&typeof module!="undefined"?module.exports=s(require("vue")):typeof define=="function"&&define.amd?define(["vue"],s):(e=typeof globalThis!="undefined"?globalThis:e||self,e["thoughts-ui"]=s(e.Vue))})(this,function(e){"use strict";var s=e.defineComponent({props:{itemHeight:{type:Number,default:0,required:!0},label:{type:String,default:"",required:!0}},setup(n,{emit:l}){const{label:i,itemHeight:t}=n,r={height:`${t}px`};return()=>e.createVNode("li",{style:r},[i])}});function y(n,l,i,t){const r=e.ref([]),u=e.ref([]),f=e.ref([]),v=e.ref([]);let d=!1;const h=a=>{if(d)return;d=!0,requestAnimationFrame(()=>{d=!1});const m=a.target.scrollTop;o(m)},o=a=>{const m=S=>Math.ceil(S/l.value),b=a-t.value*l.value>0?a-t.value*l.value:0;L();const c=m(a);r.value=g(c,c+t.value),u.value=g(c+t.value,c+t.value*2),f.value=g(c+t.value*2,c+t.value*3),v.value=[...r.value,...u.value,...f.value];function g(S,H){return i.value.slice(S,H)}function L(){n.value.style.transform=`translate3d(0, ${b}px, 0)`}};return{preList:r,midList:u,nextList:f,renderList:v,handleScroll:h,renderScroll:o}}var q="",p=e.defineComponent({name:"VirtualScroll",components:{VirtualScrollOption:s},props:{options:{type:Array,default:()=>[]},itemHeight:{type:Number,default:32}},setup(n){const l=e.ref(null),i=e.ref(null),{options:t,itemHeight:r}=e.toRefs(n),u=e.ref(0),f={height:`${t.value.length*r.value}px`},{handleScroll:v,renderList:d,renderScroll:h}=y(i,r,t,u);return e.onMounted(()=>{var a;const o=(a=l.value)==null?void 0:a.clientHeight;u.value=Math.ceil(o/r.value),h(0)}),()=>e.createVNode("div",{class:"virtual-scroll",ref:l,onScroll:v},[e.createVNode("div",{class:"virtual-scroll-bg",style:f},null),e.createVNode("ul",{class:"virtual-scroll-list",ref:i},[d.value.map(o=>e.createVNode(s,{label:o.value,itemHeight:32,key:o.value},null))])])}});p.install=function(n){n.component(p.name,p)};const x=[p];var V={install:n=>{x.forEach(l=>{n.component(l.name,l)})}};return V});
